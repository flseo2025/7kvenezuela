// Language Translation System for 7k Metals South America
const translations = {
    en: {
        // Header content
        'welcome.title': 'Welcome to the Pre-Launch of South America!',
        'welcome.description': 'You are the first members of a very exciting precious metals company that is growing around the globe. Please understand that in pre-launch we do not have all the system capabilities that we will have in the future as we continue to set up your country.',
        'quote.bible': '"Silver is mine and Gold is mine, saith the Lord of Hosts" - Haggai 2:8',
        'quote.blessing': 'And you can be blessed with Gold and Silver as well',
        
        // Form sections
        'form.preregistration': 'Pre-Registration for 7k Membership',
        'form.referredby': 'Referred By',
        'form.firstname': 'First Name',
        'form.lastname': 'Last Name',
        'form.mobile': 'Mobile',
        'form.email': 'Email',
        'form.required': '*',
        
        // Interest section
        'form.interest.title': 'Interest Level',
        'form.interest.high': 'High',
        'form.interest.need_more_info': 'Need more information',
        
        // Package section
        'form.package.title': 'Package Preferred',
        'form.package.legacy': 'Legacy at $599',
        'form.package.basic': 'Basic at $149 (Can upgrade later)',
        'form.package.undecided': 'Undecided',
        
        // Payment methods
        'form.payment.title': 'Preferred Method of Payment',
        'form.payment.label': 'Select payment methods (check all that apply)',
        'form.payment.credit_card': 'Credit Card',
        'form.payment.debit_card': 'Debit Card',
        'form.payment.bank_transfer': 'Bank Transfer',
        'form.payment.paypal': 'PayPal',
        'form.payment.digital_wallet': 'Digital Wallet USDT',
        'form.payment.other': 'Other',
        'form.payment.other_specify': 'Please specify other payment method:',
        'form.payment.other_placeholder': 'Enter payment method',
        'form.payment.clarification': '*Please note: You will NOT be charged at this time. Payment will only be processed at a later date when we notify you, unless you have a credit card that is immediately compatible with our system.',
        
        // Contact information
        'form.contact.title': 'Your Contact Information',
        'form.contact.mailing_address': 'Mailing Address',
        'form.contact.shipping_address': 'Shipping Address',
        'form.contact.same_as_mailing': 'Same as mailing address',
        
        // Additional information
        'form.additional.title': 'Additional Information',
        'form.additional.notes': 'Notes',
        'form.additional.notes_placeholder': 'Any additional comments or questions...',
        
        // Form submission
        'form.submit': 'Submit Registration',
        'form.submitting': 'Submitting...',
        'form.success.title': 'Registration Submitted Successfully!',
        'form.success.message': 'Thank you for your interest in 7k Metals! We will contact you soon with more information about our South America pre-launch.',
        'form.success.database': 'Your submission has been securely recorded in our database.',
        
        // Validation messages
        'validation.required': 'This field is required.',
        'validation.email': 'Please enter a valid email address.',
        'validation.phone': 'Please enter a valid phone number.',
        'validation.name': 'Please enter only letters and spaces.',
        'validation.payment_required': 'Please select at least one payment method.',
        'validation.shipping_required': 'Please enter a shipping address or check "Same as mailing address".',
        'validation.radio_required': 'Please select an option.',
        
        // Error messages
        'error.submission': 'There was an error submitting your form. Please try again.',
        'error.network': 'Network error. Please check your connection and try again.',
        
        // Footer
        'footer.prelaunch': 'South America Pre-Launch',
        'footer.rights': 'All rights reserved'
    },
    
    es: {
        // Header content
        'welcome.title': '¡Bienvenidos al Pre-Lanzamiento de Sudamérica!',
        'welcome.description': 'Ustedes son los primeros miembros de una emocionante compañía de metales preciosos que está creciendo alrededor del mundo. Por favor entiendan que en pre-lanzamiento no tenemos todas las capacidades del sistema que tendremos en el futuro mientras continuamos estableciendo su país.',
        'quote.bible': '"La plata es mía y el oro es mío, dice el Señor de los ejércitos" - Hageo 2:8',
        'quote.blessing': 'Y tú también puedes ser bendecido con Oro y Plata',
        
        // Form sections
        'form.preregistration': 'Pre-Registro para Membresía 7k',
        'form.referredby': 'Referido Por',
        'form.firstname': 'Nombre',
        'form.lastname': 'Apellido',
        'form.mobile': 'Móvil',
        'form.email': 'Correo Electrónico',
        'form.required': '*',
        
        // Interest section
        'form.interest.title': 'Nivel de Interés',
        'form.interest.high': 'Alto',
        'form.interest.need_more_info': 'Necesito más información',
        
        // Package section
        'form.package.title': 'Paquete Preferido',
        'form.package.legacy': 'Legacy a $599',
        'form.package.basic': 'Básico a $149 (Se puede actualizar después)',
        'form.package.undecided': 'Indeciso',
        
        // Payment methods
        'form.payment.title': 'Método de Pago Preferido',
        'form.payment.label': 'Selecciona métodos de pago (marca todos los que apliquen)',
        'form.payment.credit_card': 'Tarjeta de Crédito',
        'form.payment.debit_card': 'Tarjeta de Débito',
        'form.payment.bank_transfer': 'Transferencia Bancaria',
        'form.payment.paypal': 'PayPal',
        'form.payment.digital_wallet': 'Billetera Digital USDT',
        'form.payment.other': 'Otro',
        'form.payment.other_specify': 'Por favor especifica otro método de pago:',
        'form.payment.other_placeholder': 'Ingresa método de pago',
        'form.payment.clarification': '*Por favor nota: NO se te cobrará en este momento. El pago solo se procesará en una fecha posterior cuando te notifiquemos, a menos que tengas una tarjeta de crédito que sea inmediatamente compatible con nuestro sistema.',
        
        // Contact information
        'form.contact.title': 'Tu Información de Contacto',
        'form.contact.mailing_address': 'Dirección de Correspondencia',
        'form.contact.shipping_address': 'Dirección de Envío',
        'form.contact.same_as_mailing': 'Igual que dirección de correspondencia',
        
        // Additional information
        'form.additional.title': 'Información Adicional',
        'form.additional.notes': 'Notas',
        'form.additional.notes_placeholder': 'Cualquier comentario o pregunta adicional...',
        
        // Form submission
        'form.submit': 'Enviar Registro',
        'form.submitting': 'Enviando...',
        'form.success.title': '¡Registro Enviado Exitosamente!',
        'form.success.message': '¡Gracias por tu interés en 7k Metals! Te contactaremos pronto con más información sobre nuestro pre-lanzamiento en Sudamérica.',
        'form.success.database': 'Tu registro ha sido guardado de forma segura en nuestra base de datos.',
        
        // Validation messages
        'validation.required': 'Este campo es obligatorio.',
        'validation.email': 'Por favor ingresa una dirección de correo válida.',
        'validation.phone': 'Por favor ingresa un número de teléfono válido.',
        'validation.name': 'Por favor ingresa solo letras y espacios.',
        'validation.payment_required': 'Por favor selecciona al menos un método de pago.',
        'validation.shipping_required': 'Por favor ingresa una dirección de envío o marca "Igual que dirección de correspondencia".',
        'validation.radio_required': 'Por favor selecciona una opción.',
        
        // Error messages
        'error.submission': 'Hubo un error al enviar tu formulario. Por favor intenta de nuevo.',
        'error.network': 'Error de red. Por favor verifica tu conexión e intenta de nuevo.',
        
        // Footer
        'footer.prelaunch': 'Pre-Lanzamiento Sudamérica',
        'footer.rights': 'Todos los derechos reservados'
    },
    
    pt: {
        // Header content
        'welcome.title': 'Bem-vindos ao Pré-Lançamento da América do Sul!',
        'welcome.description': 'Vocês são os primeiros membros de uma empresa de metais preciosos muito emocionante que está crescendo ao redor do mundo. Por favor, entendam que no pré-lançamento não temos todas as capacidades do sistema que teremos no futuro enquanto continuamos a estabelecer seu país.',
        'quote.bible': '"A prata é minha e o ouro é meu, diz o Senhor dos Exércitos" - Ageu 2:8',
        'quote.blessing': 'E vocês também podem ser abençoados com Ouro e Prata',
        
        // Form sections
        'form.preregistration': 'Pré-Cadastro de Membro 7k',
        'form.referredby': 'Indicado Por',
        'form.firstname': 'Nome',
        'form.lastname': 'Sobrenome',
        'form.mobile': 'Celular',
        'form.email': 'E-mail',
        'form.required': '*',
        
        // Interest section
        'form.interest.title': 'Nível de Interesse',
        'form.interest.high': 'Alto',
        'form.interest.need_more_info': 'Preciso de mais informações',
        
        // Package section
        'form.package.title': 'Pacote Preferido',
        'form.package.legacy': 'Legacy por R$ 3.199',
        'form.package.basic': 'Básico por R$ 799 (Pode atualizar depois)',
        'form.package.undecided': 'Indeciso',
        
        // Payment methods
        'form.payment.title': 'Método de Pagamento Preferido',
        'form.payment.label': 'Selecione métodos de pagamento (marque todos que se aplicam)',
        'form.payment.credit_card': 'Cartão de Crédito',
        'form.payment.debit_card': 'Cartão de Débito',
        'form.payment.bank_transfer': 'Transferência Bancária',
        'form.payment.paypal': 'PayPal',
        'form.payment.digital_wallet': 'Carteira Digital USDT',
        'form.payment.other': 'Outro',
        'form.payment.other_specify': 'Por favor, especifique outro método de pagamento:',
        'form.payment.other_placeholder': 'Digite o método de pagamento',
        'form.payment.clarification': '*Observação: Você NÃO será cobrado neste momento. O pagamento só será processado posteriormente quando o notificarmos, a menos que você tenha um cartão de crédito imediatamente compatível com nosso sistema.',
        
        // Contact information
        'form.contact.title': 'Suas Informações de Contato',
        'form.contact.mailing_address': 'Endereço de Correspondência',
        'form.contact.shipping_address': 'Endereço de Entrega',
        'form.contact.same_as_mailing': 'Igual ao endereço de correspondência',
        
        // Additional information
        'form.additional.title': 'Informações Adicionais',
        'form.additional.notes': 'Observações',
        'form.additional.notes_placeholder': 'Comentários ou perguntas adicionais...',
        
        // Form submission
        'form.submit': 'Enviar Cadastro',
        'form.submitting': 'Enviando...',
        'form.success.title': 'Cadastro Enviado com Sucesso!',
        'form.success.message': 'Obrigado pelo seu interesse na 7k Metals! Entraremos em contato em breve com mais informações sobre nosso pré-lançamento na América do Sul.',
        'form.success.database': 'Seu cadastro foi registrado com segurança em nosso banco de dados.',
        
        // Validation messages
        'validation.required': 'Este campo é obrigatório.',
        'validation.email': 'Por favor, digite um endereço de e-mail válido.',
        'validation.phone': 'Por favor, digite um número de telefone válido.',
        'validation.name': 'Por favor, digite apenas letras e espaços.',
        'validation.payment_required': 'Por favor, selecione pelo menos um método de pagamento.',
        'validation.shipping_required': 'Por favor, digite um endereço de entrega ou marque "Igual ao endereço de correspondência".',
        'validation.radio_required': 'Por favor, selecione uma opção.',
        
        // Error messages
        'error.submission': 'Houve um erro ao enviar seu formulário. Por favor, tente novamente.',
        'error.network': 'Erro de rede. Por favor, verifique sua conexão e tente novamente.',
        
        // Footer
        'footer.prelaunch': 'Pré-Lançamento América do Sul',
        'footer.rights': 'Todos os direitos reservados'
    }
};

// Translation Manager Class
class TranslationManager {
    constructor() {
        this.currentLang = localStorage.getItem('preferred-language') || 'en';
        this.translations = translations;
        this.initialize();
    }
    
    initialize() {
        this.setupLanguageToggle();
        this.translatePage();
        this.updateActiveButton();
    }
    
    setupLanguageToggle() {
        const langButtons = document.querySelectorAll('.lang-btn');
        langButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const selectedLang = e.currentTarget.dataset.lang;
                this.switchLanguage(selectedLang);
            });
        });
    }
    
    switchLanguage(lang) {
        if (lang !== this.currentLang) {
            this.currentLang = lang;
            localStorage.setItem('preferred-language', lang);
            this.clearValidationErrors();
            this.translatePage();
            this.updateActiveButton();
            this.updatePageMeta();
        }
    }
    
    clearValidationErrors() {
        // Clear all existing validation error messages when switching languages
        const errorMessages = document.querySelectorAll('.error-message');
        errorMessages.forEach(error => error.remove());
        
        // Remove error classes from inputs
        const errorInputs = document.querySelectorAll('.error');
        errorInputs.forEach(input => input.classList.remove('error'));
    }
    
    translatePage() {
        const translatableElements = document.querySelectorAll('[data-translate]');
        translatableElements.forEach(element => {
            const key = element.dataset.translate;
            const translation = this.getTranslation(key);
            if (translation) {
                element.textContent = translation;
            }
        });
        
        // Handle placeholders
        const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
        placeholderElements.forEach(element => {
            const key = element.dataset.translatePlaceholder;
            const translation = this.getTranslation(key);
            if (translation) {
                element.placeholder = translation;
            }
        });
    }
    
    updateActiveButton() {
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.dataset.lang === this.currentLang) {
                btn.classList.add('active');
            }
        });
    }
    
    updatePageMeta() {
        // Update document title and meta tags based on language
        let title, description;
        
        switch (this.currentLang) {
            case 'es':
                title = '7k Metals - Pre-Lanzamiento Sudamérica | Metales Preciosos';
                description = 'Únete al pre-lanzamiento de 7k Metals en Sudamérica. Compañía líder en metales preciosos con oportunidades de inversión en oro y plata.';
                break;
            case 'pt':
                title = '7k Metals - Pré-Lançamento América do Sul | Metais Preciosos';
                description = 'Junte-se ao pré-lançamento da 7k Metals na América do Sul. Empresa líder em metais preciosos com oportunidades de investimento em ouro e prata.';
                break;
            default:
                title = '7k Metals - South America Pre-Launch | Precious Metals';
                description = 'Join the 7k Metals pre-launch in South America. Leading precious metals company with gold and silver investment opportunities.';
        }
        
        document.title = title;
        
        // Update meta description
        const metaDesc = document.querySelector('meta[name="description"]');
        if (metaDesc) {
            metaDesc.content = description;
        }
        
        // Update Open Graph title and description
        const ogTitle = document.querySelector('meta[property="og:title"]');
        if (ogTitle) ogTitle.content = title;
        
        const ogDesc = document.querySelector('meta[property="og:description"]');
        if (ogDesc) ogDesc.content = description;
        
        // Update Twitter card title and description
        const twitterTitle = document.querySelector('meta[property="twitter:title"]');
        if (twitterTitle) twitterTitle.content = title;
        
        const twitterDesc = document.querySelector('meta[property="twitter:description"]');
        if (twitterDesc) twitterDesc.content = description;
    }
    
    getTranslation(key) {
        return this.translations[this.currentLang]?.[key] || this.translations['en']?.[key] || key;
    }
    
    getCurrentLanguage() {
        return this.currentLang;
    }
}

// Initialize translation system when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    window.translationManager = new TranslationManager();
});